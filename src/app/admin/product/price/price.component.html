<div class="store-container">
	<app-store-selector *ngIf="false" [store]="store" (storeSelected)="storeSelected($event)"></app-store-selector>
	<div class="container" *ngIf="true">
		<div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="5px">
			<mat-form-field *ngIf="false">
				<input matInput type="number" [(ngModel)]="costPrice" placeholder="Cost price per unit">
			</mat-form-field>
			<mat-form-field>
				<input matInput type="number" [(ngModel)]="sellPrice" placeholder="Selling price per unit">
			</mat-form-field>
			<mat-form-field>
				<input matInput type="number" [(ngModel)]="stock" placeholder="In Stock">
			</mat-form-field>
			<mat-form-field>
				<input matInput type="number" [(ngModel)]="maxAlwdQty" placeholder="Max Allowed Qty for purchase">
			</mat-form-field>
		</div>
		<!--<mat-list>
		<mat-list-item fxLayout="row" *ngFor="let saleDetail of saleDetailList; index as index">
			<h5 mat-line>{{saleDetail.title}}</h5>&emsp;
			<h5 mat-line>Total Price: {{saleDetail.qty*sellPrice}}</h5>
			<div mat-line>Sale Price: {{saleDetail.salePrice}} | Discount: {{saleDetail.discount}} | Discount %age: {{saleDetail.discountPercentage}}</div>
			<div mat-line>Qty: {{saleDetail.qty}} | Start Date: {{saleDetail.saleStartDate}} | End Date: {{saleDetail.saleEndDate}}</div>
			<button mat-icon-button (click)="deleteSaleDetail(saleDetail, index)">
				<mat-icon>delete</mat-icon>
			</button>
			<mat-divider></mat-divider>
		</mat-list-item>
	</mat-list>-->
		<div *ngIf="sellPrice" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="5px">
			<mat-form-field>
				<input matInput type="text" [(ngModel)]="saleDetail.title" placeholder="Sale Title" maxlength="50">
			</mat-form-field>
			<!-- <mat-form-field>
			<input matInput type="number" [ngModel]="sellPrice*saleDetail.qty" placeholder="Total Price" disabled="">
		</mat-form-field> -->
			<mat-form-field>
				<input matInput type="number" [(ngModel)]="saleDetail.salePrice" placeholder="Sale Price" (input)="salePriceCalculator($event.target.value, 'SALE_PRICE')">
			</mat-form-field>
			<mat-form-field>
				<input matInput type="number" [(ngModel)]="saleDetail.discount" placeholder="Discount Amount" (input)="salePriceCalculator($event.target.value, 'DISCOUNT')">
			</mat-form-field>
			<mat-form-field>
				<input matInput type="number" [(ngModel)]="saleDetail.discountPercentage" placeholder="Discount Percentage" (input)="salePriceCalculator($event.target.value, 'DISCOUNT_PERCENT')">
			</mat-form-field>
			<mat-form-field>
				<input matInput type="number" [(ngModel)]="saleDetail.qty" placeholder="Quantity" (input)="salePriceCalculator($event.target.value, 'QUANTITY')" min="1">
			</mat-form-field>
		</div>
		<div *ngIf="sellPrice" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="5px" fxLayoutAlign="start start">
			<mat-form-field>
				<input matInput (click)="startDatePicker.open()" [matDatepicker]="startDatePicker" placeholder="Start date" [(ngModel)]="saleDetail.saleStartDate" [min]="minDate">
				<mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
				<mat-datepicker #startDatePicker></mat-datepicker>
			</mat-form-field>
			<mat-form-field>
				<input matInput (click)="endDatePicker.open()" [matDatepicker]="endDatePicker" placeholder="End date" [(ngModel)]="saleDetail.saleEndDate" [min]="minDate">
				<mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
				<mat-datepicker #endDatePicker [startAt]="saleDetail.saleEndDate"></mat-datepicker>
			</mat-form-field>
			<!--<button mat-icon-button (click)="addSaleDetail()">
			<mat-icon>done</mat-icon>
		</button>-->
		</div>

		<button mat-raised-button color="primary" (click)="save()">Save</button>
	</div>
</div>
